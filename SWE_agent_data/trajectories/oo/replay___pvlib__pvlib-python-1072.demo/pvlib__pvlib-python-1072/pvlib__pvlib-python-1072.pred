{"model_name_or_path": "replay___pvlib__pvlib-python-1072.demo", "instance_id": "pvlib__pvlib-python-1072", "model_patch": "diff --git a/pvlib/temperature.py b/pvlib/temperature.py\nindex 1d98736..32d4c07 100644\n--- a/pvlib/temperature.py\n+++ b/pvlib/temperature.py\n@@ -599,7 +599,11 @@ def fuentes(poa_global, temp_air, wind_speed, noct_installed, module_height=5,\n     # n.b. the way Fuentes calculates the first timedelta makes it seem like\n     # the value doesn't matter -- rather than recreate it here, just assume\n     # it's the same as the second timedelta:\n-    timedelta_hours = np.diff(poa_global.index).astype(float) / 1e9 / 60 / 60\n+    if poa_global.index.tz is not None:\n+        index_diff = np.diff(poa_global.index.tz_localize(None))\n+    else:\n+        index_diff = np.diff(poa_global.index)\n+    timedelta_hours = index_diff.astype(float) / 1e9 / 60 / 60\n     timedelta_hours = np.append([timedelta_hours[0]], timedelta_hours)\n \n     tamb_array = temp_air + 273.15\n"}